---
title: "ProjectExtras"
author: "Leslie Cervantes Rivera"
date: "2024-11-16"
output: html_document
---
```{r}
library(dplyr)
#MSRP_mean <- mean(updated_car_data$MSRP) 
  #MSRP_std <- sd(updated_car_data$MSRP)

#updated_car_data <- updated_car_data %>%
  #mutate(
    #MSRP_standardized = (MSRP - MSRP_mean) / MSRP_std
  #)

#updated_car_data <- updated_car_data %>%
  #mutate(
    #MSRP_standardized = scale(MSRP, center = TRUE, scale = TRUE)
  #)
#unique(updated_car_data$Transmission.Type)
```


- Stepwise Regression: This model identifies significant predictors to the response (MSRP).
- Lasso Regression: This model performs variable selection and regularization. 
- Random Forest: 
- PCA Regression:
```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
```{r}
library(dplyr)
library(tidyr)
library(ggplot2)
library(tidymodels)
library(corrplot)
library(forcats)
```

```{r}
library(dplyr)
car_data <- read.csv("~/Desktop/data.csv")
car_data <- car_data %>% 
  mutate(Category = ifelse(Make %in% c("BMW", "Audi", "Mercedes-Benz", "Volvo", "Ferrari", 
          "Alfa Romero", "McLaren", "Maybach","Porsche", "Saab", "Cadillac", "Bentley", "Lamborghini", 
          "Lincoln", "Rolls-Royce", "Buick", "Maserati","Lexus", "Aston Martin", "Land Rover",
          "Lotus", "Infiniti", "Genesis", "Bugatti"),
                         "Luxury",
                         "Non-Luxury"))

```


```{r}
library(tidyr)

updated_car_data <- car_data %>% 
  drop_na(Engine.HP, Engine.Cylinders, Number.of.Doors) 

updated_car_data <- subset(updated_car_data, !( Market.Category == "N/A" | Engine.Fuel.Type == "" | Engine.Cylinders == 0 | Transmission.Type == "UNKNOWN"))



lumped_car_data <- updated_car_data %>% 
  mutate(
    Market.Category = fct_other(
      Market.Category, 
      keep = c("Hatchback", "Crossover", "Performance"), 
      other_level = "Other"
    ),
    #Market.Category = fct_recode(Market.Category, 
                                      #"Performance" = "Performance",
                                     # "Hatchback" = "Hatchback",
                                     # "Crossover" = "Crossover",
                                 #"ExoticPerf" = "Exotic,High-Performance"),
    #Market.Category = fct_other(Market.Category, keep = c("Performance", "Hatchback", "Crossover", "ExoticPerform"), other_level = "Other"),
    MSRP = MSRP/1000
  )
unique(lumped_car_data$Market.Category)
unique_levels <- as.character(unique(lumped_car_data$Market.Category))
nchar_levels <- nchar(unique_levels)

# Combine into a data frame for review
data.frame(Level = unique_levels, Length = nchar_levels)
```
```{r}
counts_Year <- updated_car_data %>% 
  count(Year) %>% 
  arrange(n)

counts_FuelType <- updated_car_data %>% 
  count(Engine.Fuel.Type) %>% 
  arrange(n)

counts_HP <- updated_car_data %>% 
  count(Engine.HP) %>% 
  arrange(Engine.HP)

counts_Size <- updated_car_data %>% 
  count(Vehicle.Size) %>% 
  arrange(n)

counts_Style <- updated_car_data %>% 
  count(Vehicle.Style) %>% 
  arrange(n)

counts_Popularity <- updated_car_data %>% 
  count(Popularity) %>% 
  arrange(Popularity)

counts_Make <- updated_car_data %>% 
  count(Make) %>% 
  arrange(n)

counts_Model <- updated_car_data %>% 
  count(Model) %>% 
  arrange(n)

counts_Cylinders <- updated_car_data %>% 
  count(Engine.Cylinders) %>% 
  arrange(n)

counts_Transmission <- updated_car_data %>% 
  count(Transmission.Type) %>% 
  arrange(n)

counts_Driven <- updated_car_data %>% 
  count(Driven_Wheels) %>% 
  arrange(n)

counts_Doors <- updated_car_data %>% 
  count(Number.of.Doors) %>% 
  arrange(n)

counts_highway <- updated_car_data %>% 
  count(highway.MPG) %>% 
  arrange(highway.MPG)

counts_city <- updated_car_data %>% 
  count(city.mpg) %>% 
  arrange(n)

counts_MSRP <- updated_car_data %>% 
  count(MSRP) %>% 
  arrange(MSRP)
```

```{r}
updated_car_data <- updated_car_data %>% 
  mutate(
    MSRP = MSRP/1000
  )
```

```{r}
#car data with NO NA
boxplot(updated_car_data$Popularity)
boxplot(updated_car_data$MSRP)
boxplot(updated_car_data$highway.MPG)
boxplot(updated_car_data$city.mpg)

IQR_HP <- IQR(updated_car_data$Engine.HP)
lower_HP <- quantile(updated_car_data$Engine.HP, 0.25) - 2.0 * IQR_HP
upper_HP <- quantile(updated_car_data$Engine.HP, 0.75) + 2.5 * IQR_HP

IQR_highway <- IQR(updated_car_data$highway.MPG)
lower_highway <- quantile(updated_car_data$highway.MPG, 0.25) - 3.0 * IQR_highway
upper_highway <- quantile(updated_car_data$highway.MPG, 0.75) + 4.0 * IQR_highway

IQR_MSRP <- IQR(updated_car_data$MSRP)
lower_MSRP <- quantile(updated_car_data$MSRP, 0.25) - 3.0 * IQR_MSRP
upper_MSRP <- quantile(updated_car_data$MSRP, 0.75) + 2.0 * IQR_MSRP

outliers_removed_car <- updated_car_data %>% 
  filter(Engine.HP >= lower_HP & Engine.HP <= upper_HP) %>% 
  filter(highway.MPG >= lower_highway & highway.MPG <= upper_highway) %>% 
  filter(MSRP >= lower_MSRP & MSRP <= upper_MSRP) 
  

boxplot(outliers_removed_car$MSRP)
boxplot(updated_car_data$Engine.HP)
boxplot(outliers_removed_car$Engine.HP)

counts_MC <- outliers_removed_car %>% 
  count(Market.Category) %>% 
  arrange(n)
```
```{r}
#Car data with NA
car_data <- read.csv("~/Desktop/data.csv")
car_data <- car_data %>% 
  mutate(Category = ifelse(Make %in% c("BMW", "Audi", "Mercedes-Benz", "Volvo", "Ferrari", 
          "Alfa Romero", "McLaren", "Maybach","Porsche", "Saab", "Cadillac", "Bentley", "Lamborghini", 
          "Lincoln", "Rolls-Royce", "Buick", "Maserati","Lexus", "Aston Martin", "Land Rover",
          "Lotus", "Infiniti", "Genesis", "Bugatti"),
                         "Luxury",
                         "Non-Luxury"))

NA_car_data <- subset(updated_car_data, !( Engine.Fuel.Type == "" | Engine.Cylinders == 0 | Transmission.Type == "UNKNOWN"))

#NA_car_data <- subset(updated_car_data, !( Market.Category == "N/A" | Engine.Fuel.Type == "" | Engine.Cylinders == 0 | Transmission.Type == "UNKNOWN"))
#unique(NA_car_data$Market.Category)

boxplot(NA_car_data$Popularity)
boxplot(NA_car_data$MSRP)
boxplot(NA_car_data$highway.MPG)
boxplot(NA_car_data$city.mpg)
boxplot(NA_car_data$Engine.HP)

IQR_HP_NA <- IQR(updated_car_data$Engine.HP)
lower_HP_NA <- quantile(updated_car_data$Engine.HP, 0.25) - 2.0 * IQR_HP_NA
upper_HP_NA <- quantile(updated_car_data$Engine.HP, 0.75) + 2.5 * IQR_HP_NA

IQR_highway_NA <- IQR(updated_car_data$highway.MPG)
lower_highway_NA <- quantile(updated_car_data$highway.MPG, 0.25) - 3.0 * IQR_highway_NA
upper_highway_NA <- quantile(updated_car_data$highway.MPG, 0.75) + 4.0 * IQR_highway_NA

IQR_MSRP_NA <- IQR(updated_car_data$MSRP)
lower_MSRP_NA <- quantile(updated_car_data$MSRP, 0.25) - 3.0 * IQR_MSRP_NA
upper_MSRP_NA <- quantile(updated_car_data$MSRP, 0.75) + 2.0 * IQR_MSRP_NA

outliers_removed_car_NA <- NA_car_data %>% 
  filter(Engine.HP >= lower_HP_NA & Engine.HP <= upper_HP_NA) %>% 
  filter(highway.MPG >= lower_highway_NA & highway.MPG <= upper_highway_NA) %>% 
  filter(MSRP >= lower_MSRP_NA & MSRP <= upper_MSRP_NA)

boxplot(outliers_removed_car_NA$Popularity)
boxplot(outliers_removed_car_NA$MSRP)
boxplot(outliers_removed_car_NA$highway.MPG)
#boxplot(outliers_removed_car_NA$city.mpg)
boxplot(outliers_removed_car_NA$Engine.HP)
```

```{r}
#mutation for NA data
lumped_car_data_NA <- outliers_removed_car_NA %>% 
    mutate(
        Market.Category = fct_other(Market.Category, 
            keep = c("Performance", "Hatchback", "Crossover"), 
            other_level = "Other"),
        MSRP = MSRP / 1000,
        Vehicle.Size = factor(Vehicle.Size),
        Vehicle.Style = factor(Vehicle.Style),
        Engine.Fuel.Type = factor(Engine.Fuel.Type),
        Driven_Wheels = factor(Driven_Wheels),
        Transmission.Type = factor(Transmission.Type),
        Make = factor(Make),
        Model = factor(Model)
    ) 

#backward selection for NA data
lumped_full_model_NA <- lm(MSRP ~ ., data = lumped_car_data_NA) %>% 
  stats::step(direction = "backward")
```

```{r}
#the above counts as a model linear regression with step wise selection, regression + lasso, pca with regression, random forest
#compare the best model with the dataset with NA
#model and vif for NA dataset
library(car)
model_NA <- lm(MSRP ~ Make + Year + Engine.Fuel.Type + Engine.HP  + 
    Transmission.Type + Market.Category + Vehicle.Size +
    Vehicle.Style + highway.MPG + city.mpg, data = lumped_car_data) #removed Model for having too many observations 
#and Number.of.Doors VIF = 10.713 
#levels(lumped_car_data$Market.Category)
#alias(model)
vif_values_NA <- vif(model_NA)
print(vif_values_NA)
```

lump vehicle style 
pca analysis 
```{r}
library(dplyr)
library(ggplot2)

updated_car_data <- updated_car_data %>% 
  mutate(Transmission.Type = factor(Transmission.Type),
         Category = factor(Category))

ggplot(updated_car_data, aes(x = Transmission.Type, y = MSRP)) + 
  geom_boxplot(fill = "slateblue", alpha = 0.2) + xlab("Transmission Type") + ylab("MSRP (in thousands)") + ylim(0,75)
```


The boxplot visualizes the distribution of `MSRP` across different `Transmission.Type` categories.The median MSRP varies among transmission types, with "AUTOMATIC" having the highest median, and followed closely by "AUTOMATED_MANUAL". The interquartile range (IQR), which is the spread of the data, reveals that "DIRECT_DRIVE" has the narrowest price range, indicating consistency in pricing for this transmission type.

Examining the whiskers,"MANUAL" has a longer spread toward the maximum, while "AUTOMATIC" displays an equal amount of spread toward the maximum and minimum values. Additionally, three out of the four transmissions have a good amount of outliers, highlighting the presence of cars with MSRP significantly above or below their boxplots. 

```{r}
ggplot(updated_car_data, aes(x = Year, y = MSRP)) +
  geom_line()
```

```{r}
common_10 <- updated_car_data %>% 
  filter(Make == c("BMW", "Mercedes-Benz", "Porsche", "Lexus", "Infiniti", "Honda", "Toyota", "Nissan", "Ford", "Subaru"))
ggplot(common_10, aes(x = Make, y = MSRP)) +
  geom_boxplot(fill = "purple") + xlab("Car Make") + ylab("MSRP (in thousands)")
```

The boxplots compare the `MSRP` distributions for five luxury and five non-luxury car `Make`s. As we can see, most of the luxury cars have a greater IQR than non-luxury cars. For example, 
- Mercedes-Benz: The median `MSRP` is approximately \$60,000, with an IQR ranging from around \$40,000 and \$110,000. The distribution shows a high outlier around $200,000
- Toyota: The median `MSRP` is around \$27,000, with an IQR ranging from around \$25,000 and \$35,000. There are no notable outliers, which indicate a consisting price range.

```{r}
ggplot(updated_car_data, aes(x = Category, y = MSRP)) +
  geom_boxplot(fill = "coral") + ylim(0, 300)
```

The boxplots compare the distribution of `MSRP` to `Category`. This shows the distribution within luxury and non-luxury. 
- Luxury: The median `MSRP` is approximately \$50,000, with an IQR range from around \$40,000 to \$75,000. The minimum `MSRP` is about $5,000 and maximum (excluding outliers) is around \$129,000. There are various amounts of outliers ranging from approximately \$130,000 to \$300,000. 
- Non-luxury: The median `MSRP` is approximately \$25,000, with an IQR from around \$20,000 to \$30,000. The minimum `MSRP` is about \$5,000 and maximum (excluding outliers) is around \$55,000. There are various amounts of outliers ranging from about \$60,000 to \$215,000.

```{r}
ggplot(updated_car_data, aes(x = Year, y = MSRP)) +
  geom_point(alpha = 0.7, color = "darkgreen")  +
  labs(title = "MSRP Trend Over Time", x = "Year", y = "MSRP") + ylim(0,200) + ylab("MSRP (in thousands)")
```
Looking at the scatterplot of the distribution of `MSRP` and `Year`, we see an upward trend in the `MSRP` values over the years. After the year 2000, the prices dramatically increased suggesting vehicle prices increase every year. The significant increase could indicate factors such economic changes, advancements in technology, inflation, or an increase in demand. 

```{r}
ggplot(updated_car_data, aes(x = MSRP)) + geom_histogram(bins = 30, fill = "skyblue", color = "black") + xlim(0, 300)
```

```{r}
library(tidymodels)
set.seed(314)
car_split <- initial_split(updated_car_data, prop = 0.7, strata = MSRP)
car_train <- training(car_split)
car_test <- testing(car_split)

dim(car_train)
dim(car_test)
```

```{r}
car_recipe <- recipe(MSRP ~ Make + Model + Year + Engine.Fuel.Type + Engine.HP + Engine.Cylinders + Transmission.Type 
                     + Driven_Wheels + Number.of.Doors + Market.Category + Vehicle.Size + Vehicle.Style + 
                       highway.MPG + city.mpg + Popularity + Category, data = updated_car_data) %>% 
  step_dummy(Make, Model, Engine.Fuel.Type, Transmission.Type, Driven_Wheels, Market.Category,
             Vehicle.Size, Vehicle.Style, Category) %>% 
  step_center(all_numeric_predictors()) %>% 
  step_scale(all_numeric_predictors())
```

```{r}
library(corrplot)
corr_matrix <- cor(updated_car_data[ c("Engine.HP", "Engine.Cylinders", "city.mpg", "highway.MPG", "MSRP")])
corrplot(corr_matrix, method = "color")
```
```{r}
set.seed(314)
car_split <- initial_split(updated_car_data, prop = 0.7, strata = MSRP_standardized)
car_training <- training(car_split)
car_testing <- testing(car_split)

car_recipe <- recipe(MSRP ~ Make + Model + Year + Engine.Fuel.Type + Engine.HP + Engine.Cylinders + 
    Transmission.Type + Driven_Wheels + Market.Category + Vehicle.Style + 
    city.mpg, data = car_training) %>% 
  step_dummy(Make, Model, Engine.Fuel.Type, Transmission.Type, 
             Driven_Wheels, Market.Category, 
            Vehicle.Style) %>% 
  step_center(all_predictors()) %>% 
  step_scale(all_predictors())

#divide MSRP by 1000 and describe units as thousand of dollars
#do 2 trials one without the market.category = "N/A" and another with market.category = "N/A"
#
```

```{r}
full_model <- lm(MSRP ~ ., data = updated_car_data)

backward <- step(full_model, direction = "backward")
summary(backward)

empty_model <- lm(MSRP ~ 1, data = updated_car_data)
forward <- step(empty_model, scope = formula(full_model), direction = "forward")

mixed <- step(full_model, direction = "both")
```

backward 
Step:  AIC=34744.9
MSRP ~ Make + Model + Year + Engine.Fuel.Type + Engine.HP + Engine.Cylinders + 
    Transmission.Type + Driven_Wheels + Market.Category + Vehicle.Style + 
    city.mpg
    
forward
Step:  AIC=34744.9
MSRP ~ Model + Market.Category + Engine.HP + Make + Vehicle.Style + 
    Transmission.Type + Year + Driven_Wheels + Engine.Cylinders + 
    city.mpg + Engine.Fuel.Type
    
Mixture 
Step:  AIC=34744.9
MSRP ~ Make + Model + Year + Engine.Fuel.Type + Engine.HP + Engine.Cylinders + 
    Transmission.Type + Driven_Wheels + Market.Category + Vehicle.Style + 
    city.mpg
    
```{r}
unique(updated_car_data$Market.Category)
#unique(updated_car_data$Engine.Fuel.Type)
```

```{r}
#counts1 <- updated_car_data %>% 
  #count(Market.Category) %>% 
  #arrange(n)

#lumped NO NA data
lumped_car_data <- outliers_removed_car %>% 
    mutate(
        Market.Category = fct_other(Market.Category, 
            keep = c("Performance", "Hatchback", "Crossover"), 
            other_level = "Other"),
        MSRP = MSRP / 1000,
        Vehicle.Size = factor(Vehicle.Size),
        Vehicle.Style = factor(Vehicle.Style),
        Engine.Fuel.Type = factor(Engine.Fuel.Type),
        Driven_Wheels = factor(Driven_Wheels),
        Transmission.Type = factor(Transmission.Type),
        Make = factor(Make),
        Model = factor(Model)
    ) 

#NO NA backward selection
lumped_full_model <- lm(MSRP ~ ., data = lumped_car_data) %>% 
  stats::step(direction = "backward")

#lumped_backward <- step(lumped_full_model, direction = "backward")


#lumped_empty_model <- lm(MSRP ~ 1, data = lumped_car_data)
#forward <- step(lumped_empty_model, scope = formula(lumped_full_model), direction = "forward")

#counts <- clean_pokemon_data %>% 
  #count(type_1) %>% 
  #arrange(n)

```


```{r}
#Model and VIF for NO NA data
library(car)
model <- lm(MSRP ~ Make + Year + Engine.Fuel.Type + Engine.HP  + 
    Transmission.Type + Driven_Wheels + Market.Category + Vehicle.Size +
    Vehicle.Style + highway.MPG + city.mpg, data = lumped_car_data) #removed Model for having too many observations 
#levels(lumped_car_data$Market.Category)
#alias(model)
vif_values <- vif(model)
print(vif_values)
#summary(lumped_car_data)
#dim(table(lumped_car_data$Model))
#dim(table(lumped_car_data$Make))
```
Change Year to factor, PCA before regression (over continuous), regression + lasso, random forests (importance coefficient): sensitivity to features 
Error in length(obj) : class name too long in 'length'
do 2 trials: one without the NA's, set up the training and find the best model 
the other one with imputed values to the NA's, set up the training and find the best model and compare the values
(confusion: cannot do imputed values for inference)

```{r}
set.seed(314)
car_split <- initial_split(lumped_car_data, prop = 0.7, strata = MSRP)
car_training <- training(car_split)
car_testing <- testing(car_split)

car_recipe <- recipe(MSRP ~ Make + Year + Engine.Fuel.Type + Transmission.Type + Driven_Wheels + Market.Category + Vehicle.Size + Vehicle.Style + city.mpg, data = car_training) %>% 
  step_dummy(Make, Model, Engine.Fuel.Type, Transmission.Type, 
             Driven_Wheels, Market.Category, 
            Vehicle.Style, Vehicle.Size) %>% 
  step_center(all_predictors()) %>% 
  step_scale(all_predictors())
```


```{r}
converted_car_data_NA1 <- outliers_removed_car_NA %>% 
    mutate(
        Market.Category = fct_other(Market.Category, 
            keep = c("Performance", "Hatchback", "Crossover"), 
            other_level = "Other"),
        Vehicle.Style = fct_lump(Vehicle.Style, n = 11, other_level = "Other"),
        Make = fct_lump(Make, n = 32, other_level = "Other"),
        Model = fct_lump(Model, n = 16, other_level = "Other"),
        MSRP = MSRP / 1000,
        Vehicle.Size = factor(Vehicle.Size),
        Vehicle.Style = factor(Vehicle.Style),
        Engine.Fuel.Type = factor(Engine.Fuel.Type),
        Driven_Wheels = factor(Driven_Wheels),
        Transmission.Type = factor(Transmission.Type),
        Make = factor(Make),
        Model = factor(Model),
        Category = factor(Category)
    )

```

```{r}
lumped_full_model_NA <- lm(MSRP ~ ., data = converted_car_data_NA1) %>% 
  stats::step(direction = "backward")
```

```{r}
model_NA1 <- lm(MSRP ~ Make + Year + Engine.Fuel.Type + Engine.HP  + Engine.Cylinders +
    Transmission.Type + Driven_Wheels + Market.Category + Vehicle.Size +
    Vehicle.Style + city.mpg , data = converted_car_data_NA1) #removed Model for having too many observations 
#and Number.of.Doors VIF = 10.713 
#levels(lumped_car_data$Market.Category)
#alias(model)
vif_values_NA1 <- vif(model_NA1)
print(vif_values_NA1)
```

```{r}
NA_stepwise_car_recipe1 <- recipe(MSRP ~ Make + Year + Engine.Fuel.Type + Engine.HP + 
                       Transmission.Type + Driven_Wheels + Market.Category + Vehicle.Size + 
                       Vehicle.Style + city.mpg, data = NA_car_training) %>% 
  step_dummy(Make, Engine.Fuel.Type, Transmission.Type, 
             Driven_Wheels, Market.Category, 
            Vehicle.Style, Vehicle.Size) #%>% 
  #step_zv(all_predictors()) %>% 
  #step_center(all_predictors()) %>% 
  #step_scale(all_predictors())

NA_stepwise_model1 <- linear_reg() %>% 
  set_engine("lm") %>% 
  set_mode("regression")

NA_stepwise_workflow1 <- workflow() %>% 
  add_model(NA_stepwise_model1) %>% 
  add_recipe(NA_stepwise_car_recipe1)

NA_stepwise_fit <- fit_resamples(NA_stepwise_workflow, NA_car_folds)

NA_stepwise_metrics <- collect_metrics(NA_stepwise_fit) %>% 
  filter(.metric == "rmse") %>% 
  arrange(mean) %>% 
  slice_head(n=1)

NA_stepwise_metrics
```

### MSRP vs Make

```{r}
common_10 <- converted_car_data_NA %>% 
  filter(Make %in% c("BMW", "Mercedes-Benz", "Lincoln", "Lexus", "Infiniti", "Honda", "Toyota", 
                   "Nissan", "Ford", "Subaru"))
ggplot(common_10, aes(x = Make, y = MSRP)) +
  geom_boxplot(fill = "purple") + xlab("Car Make") + ylab("MSRP (in thousands)") + 
  theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))
```

The boxplots compare the `MSRP` distributions for five luxury and five non-luxury car `Make`s. As we can see, Mercedes-Benz has a greater IQR than the other car makes. 

- Mercedes-Benz: The median `MSRP` is approximately \$42,000, with an IQR ranging from around \$5,000 and \$55,000. 

- Toyota: The median `MSRP` is around \$30,000, with an IQR ranging from around \$23,000 and \$34,000 with an outlier around \$64,000. 

### MSRP vs Category

![image](~/Desktop/nonluxury&luxury.webp)
(https://www.carpro.com/blog/toyota-bmw-are-the-most-shopped-luxury-and-non-luxury-car-brands)

```{r}
ggplot(converted_car_data_NA, aes(x = Category, y = MSRP)) +
  geom_boxplot(fill = "coral") + ylim(0, 90) + ylab("MSRP (in thousands)")
```

The boxplots compare the distribution of `MSRP` to `Category`. This shows the distribution within luxury and non-luxury. 

- Luxury: The median `MSRP` is approximately \$40,000, with an IQR range from around \$35,000 to \$52,000. The minimum `MSRP` is about $10,000 and maximum (excluding outliers) is around \$82,000. There are various amounts of outliers ranging from approximately \$83,000 to \$86,000. 

- Non-luxury: The median `MSRP` is approximately \$26,000, with an IQR from around \$18,000 to \$33,000. The minimum `MSRP` is about \$3,000 and maximum (excluding outliers) is around \$52,000. There are various amounts of outliers ranging from about \$53,000 to \$85,000.